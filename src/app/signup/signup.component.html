<div class="main-container">

  <!-- form Heading -->
  <div>
    <h1>Sign up</h1>
  </div>

  <!-- accordian -->
  <form class="formDetails" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="formContent">
      <p-accordion [multiple]="!multiples">
        <div class="accordianTabArea">
          <p-accordionTab header="Primary details" [selected]="true">
            <div class="textArea">
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="First name *"
                  formControlName="firstName">
                <span class="help-block"
                  *ngIf="registerForm.get('firstName').invalid && registerForm.get('firstName').touched">First name is
                  required</span>
              </div>
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="Last name *"
                  formControlName="lastName">
                <span class="help-block"
                  *ngIf="registerForm.get('lastName').invalid && registerForm.get('lastName').touched">Last name is
                  required</span>
              </div>
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="Email Address *"
                  formControlName="emailAddress"><span class="help-block"
                  *ngIf="registerForm.get('emailAddress').invalid && registerForm.get('emailAddress').touched">Email
                  address
                  is invalid</span>
              </div>
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="Phone number *"
                  formControlName="phoneNumber"><span class="help-block"
                  *ngIf="registerForm.get('phoneNumber').invalid && registerForm.get('phoneNumber').touched">Phone
                  number
                  is
                  invalid</span>
              </div>
              <div class="inputValidation">
                <input type="password" pInputText class="p-inputtext-lg" placeholder="Password *"
                  formControlName="password"><span class="help-block"
                  *ngIf="registerForm.get('password').invalid && registerForm.get('password').touched">Password is
                  required</span>
              </div>
              <div class="inputValidation">
                <input type="password" pInputText class="p-inputtext-lg" placeholder="Confirm password *"
                  formControlName="confirmPassword"><span class="help-block"
                  *ngIf="registerForm.get('confirmPassword').invalid && registerForm.get('confirmPassword').touched">Confirm
                  password
                  is required</span>
              </div>
              <!-- <p-password header = "Password">
                <div>
                  <input type="password" pPassword />
                </div>
              </p-password>
              <p-password>
                <div>
                  <input type="password" pPassword />
                </div>
              </p-password> -->
            </div>
          </p-accordionTab>
          <p-accordionTab header="Company details" [selected]="true">
            <div class="textArea1">
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="Company name *"
                  formControlName="companyName"><span class="help-block"
                  *ngIf="registerForm.get('companyName').invalid && registerForm.get('companyName').touched">Company
                  name
                  is
                  required</span>
              </div>
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="Town *" formControlName="town"><span
                  class="help-block" *ngIf="registerForm.get('town').invalid && registerForm.get('town').touched">Town
                  is
                  required</span>
              </div>
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="Address line 1 *"
                  formControlName="addressLine1"><span class="help-block"
                  *ngIf="registerForm.get('addressLine1').invalid && registerForm.get('addressLine1').touched">Company
                  address
                  is
                  required</span>
              </div>
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="County"
                  formControlName="county"><span></span>
              </div>
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="Address line 2"><span></span>
              </div>
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="Postcode *"
                  formControlName="postcode"><span class="help-block"
                  *ngIf="registerForm.get('postcode').invalid && registerForm.get('postcode').touched">Company
                  address is
                  required</span>
              </div>
              <div class="inputValidation">
                <input type="text" pInputText class="p-inputtext-lg" placeholder="Address line 3"><span></span>
              </div>
              <div class="inputValidation1">
                <p-dropdown [style]="{ 'width': '100%','height': '35px',
                'font-size': '14px',
                'border': '1px solid #ccc',
                'border-radius': '5px'}" [options]="cities" optionLabel="name" optionDisabled="inactive"
                  formControlName="country">
                </p-dropdown>
              </div>
              <div class="inputValidation2">
                <p-dropdown [style]="{ 'width': '100%','height': '35px',
                  'font-size': '10px',
                  'border': '1px solid #ccc',
                  'border-radius': '5px'}" [options]="currency" optionLabel="currencyName" formControlName="currency">
                </p-dropdown>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab header="Service/Profession" [selected]="true">
            <div class="dropService">
              <p-dropdown [style]="{ left : '-10%%', 'border': '1px solid #ccc','width': '100%','height': '35px'}"
                [options]="profession" optionLabel="professionName" formControlName="profession"
                (onChange)="onChange($event)">
              </p-dropdown>
              <div class="dataDispaly" *ngIf="displayEle">
                <div class="radioButtons">
                  <div>
                    <h6>Charge based on</h6>
                  </div>
                  <div class="radioHr">
                    <p-radioButton name="billingBasis" value="0" formControlName='billingBasis' label="Hourly rate">
                    </p-radioButton>
                    <!-- <input type="radio" class="radioB1">
                  <label>Hourly rate</label> -->
                  </div>
                  <div class="radioFes">
                    <p-radioButton name="billingBasis" value="1" formControlName='billingBasis'
                      label="Fixed fee sessions"></p-radioButton>
                    <!-- <input type=" radio" class="radioB2">
                      <label>Fixed fee sessions</label> -->
                  </div>
                </div>
                <div class="fieldTxt">
                  <p class="chargeRate">Your charge out rates</p>
                  <p class="p2" *ngIf="registerForm.value.billingBasis ==0">Working time (per hour)</p>
                  <p class="p3" *ngIf="registerForm.value.billingBasis ==1">Fixed fee (per session)</p>
                  <p class="p4">Travel time (per hour)</p>
                  <p class="p5">Mileage (per mile)</p>
                </div>
                <div formArrayName="newForm" *ngFor="let newForms of getControls(); let i = index">
                  <div [formGroupName]=" i">
                    <div class="fields">
                      <div>
                        <input type="text" formControlName="charges" placeholder="-"><span class="currency"></span>
                        <p class="help-block1"
                          *ngIf="registerForm.get('newForm')['controls'][i]['controls']['charges'].invalid && registerForm.get('newForm')['controls'][i]['controls']['charges'].touched">
                          Charge name is required
                        </p>
                        <!-- <span class="help-block"
                          *ngIf="registerForm.get('newForm')['controls'][i].invalid && registerForm.get('newForm')['controls'][i].touched">
                          Charge name is required
                        </span> -->
                        <!-- <span class="help-block"
                        *ngIf="registerForm.get('charges').invalid && registerForm.get('charges').touched">Charge name
                        is required</span> -->
                      </div>
                      <div class="inp2" *ngIf="registerForm.value.billingBasis ==0">
                        <input type="text" class="inp" formControlName="fixed" placeholder="0.00"><span
                          class="currency">£</span>
                        <p class="help-block2"
                          *ngIf="registerForm.get('newForm')['controls'][i]['controls']['fixed'].invalid && registerForm.get('newForm')['controls'][i]['controls']['fixed'].touched">
                          Time is required
                        </p>
                        <!-- <span class="help-block"
                        *ngIf="registerForm.get('fixed').invalid && registerForm.get('fixed').touched">Time is
                        invalid</span> -->
                      </div>
                      <div *ngIf="registerForm.value.billingBasis ==1">
                        <input type="text" class="inp" formControlName="nonFixed" placeholder="0.00"><span
                          class="currency">£</span>
                        <p class="help-block2"
                          *ngIf="registerForm.get('newForm')['controls'][i]['controls']['nonFixed'].invalid && registerForm.get('newForm')['controls'][i]['controls']['nonFixed'].touched">
                          Time is required
                        </p>
                        <!-- <span class="help-block"
                        *ngIf="registerForm.get('nonFixed').invalid && registerForm.get('nonFixed').touched">Time is
                        invalid</span> -->
                      </div>
                      <div>
                        <input type="text" class="inp" formControlName="travel" placeholder="0.00">
                        <span class="currency">£</span>
                        <p class="help-block2"
                          *ngIf="registerForm.get('newForm')['controls'][i]['controls']['travel'].invalid && registerForm.get('newForm')['controls'][i]['controls']['travel'].touched">
                          Travel is required
                        </p>
                        <!-- <span class="help-block"
                        *ngIf="registerForm.get('travel').invalid && registerForm.get('travel').touched">Travel is
                        invalid</span> -->
                      </div>
                      <div class="input4th">
                        <input type="text" class="inp" formControlName="mileage" placeholder="0.00"><i *ngIf="i != 0"
                          style="color: white; background-color: red; position: relative; top: -25px; left: 85px;
                        margin-bottom: auto; margin-left: 8px;
                        border-radius: 15px;" type="button" class="pi pi-times-circle" (click)="removeDynamicForm(i)">
                        </i><span class="currency">£</span>
                        <p class="help-block2"
                          *ngIf="registerForm.get('newForm')['controls'][i]['controls']['mileage'].invalid && registerForm.get('newForm')['controls'][i]['controls']['mileage'].touched">
                          Mileage is required
                        </p>
                        <!-- <span class="help-block"
                        *ngIf="registerForm.get('mileage').invalid && registerForm.get('mileage').touched">Mileage is
                        invalid</span> -->
                      </div>
                    </div>
                  </div>
                </div>
                <div class="psgbut">
                  <p>These can be changed later, and there are several layers of complexity if you have multiple rates,
                    charge work on both a fixed fee and hourly rate basis, or need to set up a one-off fixed fee charge
                    for initial assessments.
                  </p>
                  <button type="button" class="addMore" (click)="addItem('',0,0,0,0)">Add More</button>
                </div>
              </div>
            </div>
          </p-accordionTab>
        </div>
      </p-accordion>
    </div>
    <div class="capCheck">
      <div class="captcha">
        <div [hidden]="captcha">
          <re-captcha (resolved)="resolved($event)" siteKey="6Lc-yI4gAAAAAE--4p8iZkIeRCvJxQpYTqRwHxTm"></re-captcha>
        </div>
        <div [hidden]="!captcha">
          <re-captcha (resolved)="resolved($event)" siteKey="6Lc-yI4gAAAAAE--4p8iZkIeRCvJxQpYTqRwHxTm"></re-captcha>
        </div>
      </div>
      <div class="checkBox">
        <p-checkbox [(ngModel)]="value" [ngModelOptions]="{standalone: true}" [binary]="true"
          label="I agree to the Terms and Conditions"></p-checkbox>
      </div>
    </div>

    <!-- <div>
      <p-captcha siteKey="YOUR_SITE_KEY" (onResponse)="showResponse($event)" initCallback="loadCaptcha"></p-captcha>

      <script src="https://www.google.com/recaptcha/api.js?render=explicit&onload=initRecaptcha" async defer></script>

    </div> -->
    <div class="btn1">
      <div class="btn">
        <button type="button" routerLink="/" name="Cancel" class="btn btn-secondary">Cancel
        </button>
        <!-- <button pButton type="submit" label="Cancel" class="p-button-text"></button> -->
      </div>
      <div class="btn">
        <button type="submit" name="Sign Up" class="btn btn-secondary"
          [disabled]="!registerForm.valid || !captcha || !value" (onclick)="onCreatePost()">Sign
          Up
        </button>
        <!-- <button pButton type="submit" label="Sign Up" class="p-button-text"></button> -->
      </div>
      <!-- <button (click)="getData()">Add data</button> -->
    </div>

  </form>

</div>
